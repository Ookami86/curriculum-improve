language: java
install: true
jdk:
- oraclejdk11
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
script:
- "./gradlew buildDocs publish --info --stacktrace"
- ls -laR ./build | grep -v .git
deploy:
  provider: releases
  on:
    branch: master
    tags: true
  
  file_glob: true
  file:
  - build/curriculum-improve_de*
  - build/curriculum-improve_en*
  - build/images
  skip_cleanup: true
  overwrite: true
env:
  global:
  - secure: imcFSXrVO4Wb0eH6JOSEzujrxn45oEmVZHsXA/bENX8F+7gAtH4M0YuyEL3OCuJXaGVMs7TyIKmZGAfBmKSsV+pVBIMJ7PVmFU4BSbL4DGmS+8xr0Y0MXBoBts2JzE4Zmn/iSdiQHzJpNd0TjgQZfzPkdN/gCHohmpg4C1olWoei6rpxs5UBjYizmAq5dCyOmjZ4+dL/12FVXxRGZqmQsFpRdHcPF+2WjLQik+XcxEUeU1IiJfEVreZ2i2upj4kxPJzjU/gXQ77wi2mH6ZiRAggjX2NYJ7uA1TGf+qlGSG7++C0pl/+UY4tD5W8GC9WF2Vt/SP6B8ZDsBjk4rSAGkgMEpscZm/s/PWcItD3TOZXy2izBPghGKZobGN+GEdODWoIPJwZFw8HSLk5sSOsV08izPnzRL+twsC+j7+mUjT3TeaxYAD9XehrDcHoFtP2W81aHihtCHZlOSxT16P2KnuW+JW0HL1WFc3PrEHZieusIKAxot8HD8hg3l0OgFl/3WRD1tdmvRzBOKYSd07mwCWaedhsndicw3uLTVEmdEkmK381zljE4RDeKNK+BwN9C99FFHtJd+B6qsQDCIccND3n5H40Rt3jlMOmmzBs1+M+3TdBzMh1hJDOgnoN9P3nLFEfbOa1wubSUOVV4gwP9LT2z0VVy5XCDk6WKp2tO4NI=
